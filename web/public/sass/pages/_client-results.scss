// ALL COUNTRIES LANDING
.landing-zones {
	@extend .relative;
	.pic-side, .cheapest-side {
		@media(min-width: $screen-md-max) {
			width: 276px;
			height: 276px;
			.cheapest-country {
				height: 46px;
				.cc-title {line-height: 2.4em;}
				.cc-price {line-height: 1em;}		
			} 
		}
		@media (max-width: $screen-md-max) {
			width: 226px;
			height: 226px;
			.cheapest-country {
				height: 38px;
				.cc-title {line-height: 1.9em;}
				.cc-price {line-height: 0.9em;}
			}
		}
		@media (max-width: $screen-sm-max) {
			width: 50%;
			.cheapest-country {
				.cc-price {
					line-height: 1.8em;
					small {padding-right: 2px;}
					br {display: none;}
				}
			}
		}
		@media (max-width: $screen-xs-max) {
			width: 100%;
			.cheapest-country {
				.cc-price {
					line-height: 1.8em;
					small {padding-right: 2px;}
					br {display: none;}
				}
			}
		}
		background-position: center center;
		background-size: cover;
		background-repeat: no-repeat;
		float: left;
		position: relative;
		overflow: hidden;
		@extend .padded-zero;
		@extend .bg-light;
		.cheapest-country {
			@extend .trans-b;
			&:hover {background: $almost-light;}
		}
	}
	.lz-inner {
		border: 1px solid $gray-lighter-low;
	}
	.lz-floating-title {
		position: absolute;
		bottom: 0px;
		left: 0px;
		@extend .padded-l;
		@extend .full-width;
		background: url("http://res.cloudinary.com/open-market-travel/image/upload/assets/result-gradient.png");
		background-position: center bottom;
		background-repeat: repeat-x;		
		&, h2 {color: $light!important;}
	}
} 

.landing-tags {
	.tagblock {
		.tagblock-inner {
			@include triangle($color: $gray-lighter-low, $width: 100px, $height: 15px, $z-index: 3);
			border: 1px solid $gray-lighter-low;

		}
		.tag-pic {
			@extend .relative;
		}
		.tb-icon {
			position: absolute;
			top: 0;
			left: 10px;
			background-color: $brand-danger;
			color: $light;
			font-size: 25px;
			width: 44px;
			height: 44px;
			padding: 5px 8px;
  			@extend .text-center;
			@include triangle($color: $brand-danger-dark, $width: 18px, $height: 10px, $z-index: 3);
		}
		.tb-title, .tb-title-especial{
			color: $light;
			position: absolute;
			bottom: 0;
			left: 0;
			width: 100%;
			height: 100px;
			background: url("http://res.cloudinary.com/open-market-travel/image/upload/assets/result-gradient.png");		
			background-position: center bottom;
			background-repeat: repeat-x;	
			h3 {
				@extend .padded-b;	
				position: absolute;
				bottom: 0;
			}
		}
		.tb-title-especial {
			h3 {
				font-size: $font-size-h2;
			}
			@media (max-width: $screen-md-max) {
				h3, .h3 {font-size: $font-size-h3!important;}
			}
			// @media (max-width: $screen-sm-max) {
			// 	h3, .h3 {font-size: $font-size-h3!important;}
			// }
		}
		.tag-offers {
  			min-height: 203px;			
			@extend .bg-light;
			.tag-offer {
				@extend .trans-b;
				&:hover {
					background-color: $almost-light;
					.tag-offer-price {box-shadow: -7px 0px 6px $almost-light;}
				}
				&:nth-child(4) {border-bottom: none;}
				@extend .bordered-bottom;				
				a {@extend .padded-b;}
				.tag-offer-title {
					overflow: hidden;
					width: 75%;
					@extend .pull-left;
					small {white-space: nowrap;}
				}
				.tag-offer-price {
					width: 25%;
					@extend .trans-b;
					box-shadow: -7px 0px 6px $light;
					@extend .pull-right;
					@extend .text-red;
					@extend .text-right;
					@media (max-width: $screen-xs-max) {
						br {display: none;}
						line-height: 2.4em;
					}
				}
			}
		}
	}
}


//COUNTRY LANDING
.landing-header-wrap {
	@extend .bg-gdark;
	@extend .text-light;
	@extend .relative;
	.landing-img {
		display: block;
		width: 100%;
		background-position: center center;
		background-size: cover;
		height: 380px;
		@media (max-width: $screen-xs-max) {height: 195px;}
	}
	.landing-caption {
		position: absolute;
		bottom: 0px;
		right: 0px;
		@extend .padded-b;
		@extend .marged-zero;
		background-color: rgba($gray-dark, .8); 
	}
	.floating-info-landing {
		margin-top: 105px;
		@extend .bg-darkblue-half;
		@extend .col-md-7;
		@extend .col-sm-9;
		@extend .col-xs-12;
	}
}

.filter-box { 
	h4:hover {cursor: pointer;}
	.fa-caret-down { @include transition(transform .4s ease); }
	.collapsed { .fa-caret-down {@include rotate(-90deg);} }
	label, label span {color: $link-color; &:hover {color: $link-hover-color;}}
}

.filter {
	input[type="checkbox"], input[type="radio"] {display: none;}
	input[type="checkbox"]+label, input[type="radio"]+label {    
		margin-bottom: 0;
		display: block;
		@extend .no-select;
		@extend .padded-b;
		padding-bottom: 2px;padding-top: 2px;
		@include border(bottom, $light);
		a {max-width: 85%;}
		//span {color: $gray-light-mid;}
		i {margin-top: 2px; color: $light;}
		&:hover {
			background-color: rgba($brand-primary, .1);
		}
	}
	input[type="checkbox"]:checked + label, input[type="radio"]:checked + label {
		@extend .trans-b; 
		overflow: hidden;
		background-color: $brand-primary;
		&, a {color: $light}
		span {color: $gray-lighter-low;}
		&:hover {
			background-color: $brand-primary-dark;
			.fa-check {display: none!important;}
			.fa-times {display: block!important; visibility: visible!important;}
		}
	}
	.date-search{
		background: #f5f5f5 url('http://res.cloudinary.com/open-market-travel/image/upload/v1423064611/mail/fa-calendar.png') 90% 50% no-repeat;
		background-size: 16px 16px;
	}
}

.filter-collapse {
	overflow: hidden; 
	//max-height: 1000px;
	//height: 120px;
	&.fiverelease {
		height: auto;
	}
}

.mobile-filter {
	background-color: $light;
	position: absolute;
	border-radius: 0;
	&:hover, &:active {opacity: .9; background-color: $light!important;}
	&, &:hover, &:active {top: 0; right: -2px; border: 1px solid $well-border; border-right: none;}
}

.sorter {
	&.asc {.fa-sort-numeric-desc {display: none;}}
	&.desc {.fa-sort-numeric-asc {display: none;}}
}

.results-page-wrap {overflow: hidden;}



//css trick even if result-comparecheck is outside, while it comes after whole result link it will go transparent when we bring up red background
.whole-result-link:hover + .result-comparecheck label {
	opacity: 0;
}


.result-comparecheck {
	input[type=checkbox] + label:before {
	  color: white;
	  font-family: FontAwesome;
	  display: inline-block;
	  font-size: 15px;
	}
	input[type=checkbox] + label:before { content: "\f096"; margin-top: 6px; width: 12px;}
	input[type=checkbox]:checked + label:before { content: "\f0c8"; margin-top: 6px; width: 12px; color: $brand-danger-mid;}
}

.result-comparecheck label{
	@extend .absolute;
	@extend .text-center;
	width: 30px;
    height: 30px;
	background-color: rgba($gray-dark, 0.5);
	top: 1px; right: 16px;
	z-index: 900;
	&:hover {
		background-color: rgba($gray-dark, 0.6);
	}
	.comparecheck-popover {
		background: $brand-primary;
		top: -33px;
		right: 0;
		width: 135px;
		font-size: $font-size-small;
		@include triangle($color: $brand-primary-dark, $width: 18px, $height: 10px, $z-index: 3);
	}
}

.infocompare {
	.modal-dialog {
		height: 100%;
		margin-top: 0;
	}
	.modal-content {
		height: 160px;
		@extend .absolute-center;
		@extend .hidden-sm;
		@extend .hidden-xs;
	}
}


.result-toptags {
	@extend .absolute;
    top: 0; right: 0;
	span {
		display: inline-block;
		vertical-align: top;
		width: 30px;
    	height: 30px;
    	color: $light;
    	padding: 6px;
    	margin-left: 1px;
    	text-align: center;
    	background-color: rgba($brand-danger-mid, 0.6);
    	i {font-size: $font-size-large;}
    	&:hover {background-color: rgba($brand-danger-mid, 0.9);}
	}
}

.results-wrap {
	&.viewblocks {

		.overflower-wrap {
			display: block;
			height: 360px;
			width: 100%;
			position: relative;
			overflow: hidden;
		}

		.result-wrap {
			@extend .col-md-4;
			@extend .col-sm-6;
			position: relative;
			height: 362px;
			margin-bottom: 35px;
			// @media (max-width: 400px) {width: 100%;}
			// width: 30%; 
			// margin-right: 3.2%;
			.result {
				// max-width: 300px;
				// @extend .center-block;
				@extend .max-center-xs;
				max-width: 380px;
			}
		}		

		.result-img {
			background-color: $gray-lighter-low;
			position: absolute;
			top: 0;
			max-width: 100%;
			img {
				@include transition(all .4s ease-out);
				// @media (min-width: $screen-lg-min) { min-height: 147px; }
				// @media (max-width: $screen-md-max) { min-height: 122px; }
				// @media (max-width: $screen-sm-max) {min-height: 80px;}
				// @media (max-width: $screen-xs-max) {min-height: 80px;}
				-webkit-backface-visibility: hidden;
				// -webkit-transform: translateZ(0) scale(1.0, 1.0);		
			}
			.result-gradient, h3 { position: absolute; bottom: 0; left: 0; }
			h3, h4 {
				z-index: 20;
				text-shadow: $carousel-text-shadow;
			}
			.result-gradient {
				z-index: 1;
				min-height: 70px;
				background-image: url(../img/elements/result-gradient.png);
				background-position: bottom center;
			}
		}	

		.result-price {
			min-width: 55px;
			position: absolute;
			z-index: $zindex-basic;
			line-height: 1em;
			top: 0;
			padding: 9px 5px 3px 5px;
			left: 15px;
			color: $light;
			.currency {
				@extend .text-light;
				@extend .bold;
			}
			background-color: $brand-result-price; 
			@media (max-width: $screen-md-max) {h2 {font-size: $font-size-h3!important;}}
			@media (max-width: $screen-sm-max) {h2 {font-size: $font-size-h2!important;}}
			.fa-arrow-circle-right {
				color: $brand-danger;
				right: 10px;
				position: relative;
			}
		}

		.result-text-effect {
			@extend .result-text;
			//margin pic height
			position: absolute;
			width: 100%;
			top: 147px;
			@media (max-width: $screen-md-max) { top: 119px; }
			@media (max-width: $screen-sm-max) { top: 193px; }
			min-height: 168px;
			overflow: hidden;
			z-index: $zindex-basic;
			@extend .bg-light;
			-webkit-backface-visibility: hidden;
			// -webkit-transform: translateZ(0) scale(1.0, 1.0);	
		}


		.result-text {
			@extend .trans-b;
			.text-detail {@extend .mb-l;}
			p {
				padding-top: 2px;
				padding-left: 22px;
				vertical-align: middle;
			}
		}
		.result-cta {
			@extend .absolute;
			@extend .trans-b;
			right: 35px;
			top: 15px;
			opacity: 0;
		}

		.result {
			position: relative;
			text-align: left!important;

			.result-maintitle-wrap {
				h3 {position: absolute;}
				background: url("http://res.cloudinary.com/open-market-travel/image/upload/assets/result-gradient.png");
				background-repeat: repeat-x;
				background-position: bottom;
				position: absolute;	
				overflow: hidden;
				bottom: -1px;
				height: 80px;
				@extend .btn-block;
			}
			.result-maintitle {
				overflow: hidden;
				position: absolute;
				bottom: 0;
				@extend .padded-l;
				@extend .marged-zero;
				@extend .text-light;
				text-shadow: 0 1px 0 rgba(255,255,255,.2);
				font-size: $font-size-large;
				@media (max-width: $screen-md-max) {font-size: $font-size-mid;}
				@media (max-width: $screen-sm-max) {font-size: $font-size-large;}
			}

			//override product margins, smaller!!
			.text-detail {
				margin-bottom: $padding-base-vertical;
				p {margin-bottom: 0;}
			}

		}
		
		.result-dmc-profile {
			min-height: 43px;
			box-shadow: 0px -18px 27px #fff;
			@extend .bg-light;
			// @extend .line-gray;
			border-top: 3px solid $body-bg-user-front;
			z-index: $zindex-basic;
			position: absolute;
			bottom: 0;
			width: 100%;
			.dmc-text {
				margin-left: 48px; padding: 3px;
				padding-top: 7px;
			}
			@media (max-width: $screen-md-max) {
				img {width: 35px;}
			}
		}

		.whole-result-link {
			.fa-arrow-circle-right, .info-block, .result-price {@extend .trans-b;}
			.info-block {@include triangle($color: $gray-lighter-low, $width: 135px, $height: 25px, $z-index: 3);}
			&:hover {
				.info-block {box-shadow: 0px 0px 17px $gray-lighter-low; border: 1px solid $gray-lighter-low;}
				.result-img {
					-webkit-backface-visibility: hidden;
					img {opacity: 0; -webkit-backface-visibility: hidden;}
				}
				.result-text-effect {top: 65px;}
				.result-cta {opacity: 1;}
				.result-img {background-color: $brand-result-price;}
			}
		}
		//HIDE ALL NOT NEEDED COMING FROM VIEWLIST
		.hidden-viewblocks {display: none;}
	}

	&.viewlist {
		.result-wrap {
			@extend .col-md-12;
			@extend .col-sm-12;
		}
		.result {
			height: 160px;
			overflow: hidden;
		}
		.result-img-listview {
			img {height: 160px;}
			@extend .pull-left;
		}

		//NOT IMAGE ANYMORE, NOW PRICE, MAPLINIK AND CTA
		.result-img {
			width: 155px;
			min-height: 160px;	
			@extend .pull-right;
			background-color: $brand-result-price;
			@extend .padded-l;
			@extend .text-center;
			@extend .text-light;
			.result-price {@extend .mb-l;}
			.result-price, small {@extend .text-light;}
		}

		.result-maintitle-listview {
			@extend .mt-b;
			@extend .mb-b;
			@extend .h3;
			@extend .text-graydark;

		}		

		.result-text-effect {
			padding-left: 300px;
			.text-detail-inlinelist {
				@extend .iblock;
			}
			.text-detail {
				i {@extend .mt-xs;}
				@extend .text-sm;
				max-height: 35px;
				overflow: hidden;
				max-width: 70%;
				margin-bottom: 5px;
				p {margin-bottom: 4px;@extend .inline;}
			}
		}

		.result-comparecheck label{
			left: 15px;
			right: auto;
		}		
		.result-firegallery {
			color: white;			
			@extend .absolute;
			@extend .text-center;
			width: 30px;
		    height: 30px;
			background-color: rgba($gray-dark, 0.5);
			top: 1px; left: 46px;
			z-index: 900;
			&:hover {
				background-color: rgba($gray-dark, 0.6);
			}
			.firegallery-popover {
				background: $brand-primary;
				top: -33px;
				right: 0;
				width: 80px;
				font-size: $font-size-small;
				@include triangle($color: $brand-primary-dark, $width: 18px, $height: 10px, $z-index: 3);
			}			
		}

		.result-firemap {
			color: white;			
			@extend .absolute;
			@extend .text-center;
			width: 155px;
		    height: 30px;
			top: 0; right: 16px;
			z-index: 900;
			padding-top: 10px;
			&:hover {
				opacity: .9;
			}
		}

		.result-dmc-profile {
				
			position: absolute;
			background: url("http://res.cloudinary.com/open-market-travel/image/upload/assets/result-gradient.png");
			background-repeat: repeat-x;
			background-position: bottom;
			overflow: hidden;
			bottom: 0px;
			left: 0;
			height: 80px;
			@extend .btn-block;
			padding: 6px;
			width: 268px;
			padding-top: 37px;
			strong {@extend .link-invert;}
			.dmc-text {@extend .mt-l;}
		}

		.whole-result-link {
			.fa-arrow-circle-right, .info-block, .result-price {@extend .trans-b;}
			.info-block {@include triangle($color: $gray-lighter-low, $width: 135px, $height: 25px, $z-index: 3);}
		}		
		.whole-result-link:hover + .result-comparecheck label {opacity: 1;}


		//HIDE ALL NOT NEEDED FROM BLOCLIST
		.hidden-viewlist {display: none;}
	}
}


//hide viewlist
.viewlist {
	@extend .hidden-xs;
	@extend .hidden-sm;
}

//unabsolute positioning and remove hovers on mobile
@media (max-width: $screen-xs-max) { 

		.result-wrap, .overflower-wrap, .result {
			height: auto!important;
		}
		.result-text-effect, .result-img, .result-dmc-profile {
			position: relative!important;
			box-shadow: none!important;
			top: auto!important;
			min-height: auto;
			height: auto!important;
		}	

	.viewblocks {
		.whole-result-link:hover {
			.result-img img {opacity: 1!important;}
			.result-text-effect {top: auto!important; }
			.result-dmc-profile {box-shadow: none!important;}
		}
	}
}


.no-results {
	min-height: 300px;
	.no-results-icon {font-size: 140px;}
}
.results {
	.pagination.mt {margin-top: 70px;}
}
.seobox-wrap {h3 a {@extend .invert-text;} }
.seolinks-wrap {
	opacity: .7;
	li {padding: 0;}
	a {
		display: block;
		@extend .padded-b;
		@extend .mb-b;
		@include border(bottom, $gray-lighter-low);
	}
}


@media (max-width: $screen-sm-max ) {
	.row-offcanvas { position: relative; }
	  .row-offcanvas-right .sidebar-offcanvas { left: 100%; padding: 0; padding-right: 40px; }
	  .row-offcanvas-right.active { right: 90%; }
	  .sidebar-offcanvas {
	    position: absolute;
	    top: 0;
	    width: 90%;
	  }	
}
.signup-wrap {
	border-color: $brand-alternate;
	@extend .invert-text;
	background-color: $brand-alternate;
	.btn {
	}
	#mce-error-response{
		width: 100%;
		@extend .padded-l;
		@extend .label-danger;
		color: $light !important;
	}
	#mce-success-response{
		width: 100%;
		@extend .padded-l;
		@extend .label-success;
		color: $light !important;
	}
	small{
		@extend .invert-text;
	}
}


.comparing-title {height: 36px; overflow: hidden;}

.container .modal-lg {
	width: 100%;
}
	// @media (max-width: $screen-lg-min) {
	// 	.compare-modal-window .modal-dialog {
	// 		width: $screen-lg;
	// 	}
	// }
	// @media (max-width: $screen-md-min) {
	// 	.compare-modal-window .modal-dialog {
	// 		width: $screen-md;
	// 	}
	// }
	// @media (max-width: $screen-sm-min) {
	// 	.compare-modal-window {
	// 		display: none;
	// 	}
	// }


//GALLERY LIGHTBOX

.lightbox-modal {
  img {width: 100%!important;height: auto!important;}

  .modal-body {padding: 0!important; }
  .modal-content {height: 100%!important;}
}

.lightbox-nav {
  position: absolute;
  margin-bottom: 12px; /* the font-size of .btn-xs */
  height: 100%;
  width: 100%;
  text-align: center;
  font-size: 0; /* prevent the otherwise inherited font-size and line-height from adding extra space to the bottom of this div */
  z-index: 1;
  .close {
    position: fixed!important;
    top: 0;
    right: 0;
    float: none;
    opacity: 1;
  }
}

.lightbox-nav .btn-group {
  vertical-align: top;
  width: 100%;
  &:hover {@extend .pointer;}

  .prev {
  	i {left: 0;}
  }  
  .next {
  	i {right: 0;}
  }

  i {color: $light;margin-top: 200px; position: absolute; padding: 20px; background-color: $gray-darker; &:hover {background-color: $gray-dark; @extend .pointer;}}
  .prev {
  	left: 0; position: absolute; color: $light; padding: 12px; width: 50%; height: 467px;
  	@extend .trans-b;
  }
  .next {
	right: 0; position: absolute; color: $light; padding: 12px; width: 50%; height: 467px;
  	@extend .trans-b;
  }
}

.lightbox-nav .close {
  /* absolutely position this in order to center the nav buttons */
  position: absolute;
  top: 0;
  right: 0;
  background: $brand-danger-mid;
  color: white;
  padding: 5px;
  opacity: 1;
  z-index: 1;
}

.lightbox-image-container {
	margin-top: 120px;
  position: relative;
  text-align: center; /* center the image */
}

/* the caption overlays the top left corner of the image */
.lightbox-image-caption {
  position: absolute;
  top: -50px;
  width: 100%;
  left: 0;
  margin: 0.5em 0.9em; /* the left and right margins are offset by 0.4em for the span box-shadow */
  color: $light;
  @extend .thin;
  font-size: 1.5em;
  text-align: center;
}

.lightbox-image-caption span {
  padding-top: 0.1em;
  padding-bottom: 0.1em;
  background-color: transparent;
  /* pad the left and right of each line of text */
}


